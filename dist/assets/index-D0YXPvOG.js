import{P as i,j as e,n as m,G as t,B as p,N as j,O as v,r as b,M as g,T as f}from"./index-vCXB1zlS.js";import{u as c,c as q,a as u,F as N}from"./index.esm-BVXQWwgt.js";import{M as y}from"./MenuItem-D9oAYbi0.js";const o=({error:a,...r})=>e.jsx(m,{fullWidth:!0,variant:"outlined",error:!!a,helperText:a,...r});o.propTypes={error:i.string};const S=()=>{const{values:a,errors:r,touched:l,handleChange:s,handleBlur:n}=c();return e.jsxs(t,{container:!0,spacing:2,children:[e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(o,{name:"firstName",label:"First Name",value:a.firstName,error:l.firstName&&r.firstName,onChange:s,onBlur:n,required:!0})}),e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(o,{name:"lastName",label:"Last Name",value:a.lastName,error:l.lastName&&r.lastName,onChange:s,onBlur:n,required:!0})})]})},B=()=>{const{values:a,errors:r,touched:l,handleChange:s,handleBlur:n}=c();return e.jsxs(t,{container:!0,spacing:2,children:[e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(o,{name:"email",label:"Email",type:"email",value:a.email,error:l.email&&r.email,onChange:s,onBlur:n,required:!0})}),e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(o,{name:"phone",label:"Phone",value:a.phone,error:l.phone&&r.phone,onChange:s,onBlur:n,required:!0})})]})},d=({options:a,error:r,...l})=>e.jsx(m,{select:!0,fullWidth:!0,variant:"outlined",error:!!r,helperText:r,...l,children:a.map(s=>e.jsx(y,{value:s.value,children:s.label},s.value))});d.propTypes={options:i.arrayOf(i.shape({value:i.string.isRequired,label:i.string.isRequired})).isRequired,error:i.string};const C=[{value:"website",label:"Website"},{value:"referral",label:"Referral"},{value:"social",label:"Social Media"},{value:"other",label:"Other"}],L=[{value:"new",label:"New"},{value:"contacted",label:"Contacted"},{value:"qualified",label:"Qualified"},{value:"lost",label:"Lost"}],w=()=>{const{values:a,errors:r,touched:l,handleChange:s,handleBlur:n}=c();return e.jsxs(t,{container:!0,spacing:2,children:[e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(d,{name:"source",label:"Lead Source",value:a.source,error:l.source&&r.source,onChange:s,onBlur:n,options:C,required:!0})}),e.jsx(t,{item:!0,xs:12,sm:6,children:e.jsx(d,{name:"status",label:"Lead Status",value:a.status,error:l.status&&r.status,onChange:s,onBlur:n,options:L,required:!0})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(o,{name:"notes",label:"Notes",multiline:!0,rows:4,value:a.notes,error:l.notes&&r.notes,onChange:s,onBlur:n})})]})},F=q().shape({firstName:u().required("First name is required"),lastName:u().required("Last name is required"),email:u().email("Invalid email").required("Email is required"),phone:u().required("Phone number is required"),source:u().required("Lead source is required"),status:u().required("Lead status is required")}),T={firstName:"",lastName:"",email:"",phone:"",source:"",status:"new",notes:""},h=({onSubmit:a,isSubmitting:r})=>e.jsx(N,{initialValues:T,validationSchema:F,onSubmit:a,children:({handleSubmit:l,isValid:s})=>e.jsx("form",{onSubmit:l,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsx(t,{item:!0,xs:12,children:e.jsx(S,{})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(B,{})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(w,{})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(p,{sx:{display:"flex",justifyContent:"flex-end",gap:2},children:e.jsx(j,{variant:"contained",color:"primary",type:"submit",disabled:r||!s,children:r?"Saving...":"Save Lead"})})})]})})});h.propTypes={onSubmit:i.func.isRequired,isSubmitting:i.bool};const M=()=>{const a=v(),[r,l]=b.useState(!1),s=async n=>{l(!0);try{console.log("Saving lead:",n),a("/leads/all")}catch(x){console.error("Error saving lead:",x)}finally{l(!1)}};return e.jsxs(g,{title:"Add New Lead",children:[e.jsx(f,{variant:"body2",gutterBottom:!0,children:"Add a new lead manually by filling out the form below. All fields marked with * are required."}),e.jsx(t,{container:!0,spacing:3,children:e.jsx(t,{item:!0,xs:12,children:e.jsx(h,{onSubmit:s,isSubmitting:r})})})]})};export{M as default};
